# API Key èˆ‡åœ–ç‰‡ç”Ÿæˆèƒ½åŠ›æª¢æŸ¥å ±å‘Š

## ğŸ“‹ æª¢æŸ¥æ—¥æœŸ
2025å¹´1æœˆ

## 1. API Key ç®¡ç†æ–¹å¼æª¢æŸ¥ âœ…

### ç•¶å‰å¯¦ä½œç‹€æ…‹
**âœ… ç¬¦åˆè¦æ±‚ï¼šå°ˆæ¡ˆçµ±ä¸€ä½¿ç”¨ Context ç®¡ç† API Key**

#### å¯¦ä½œç´°ç¯€ï¼š
- **Context æª”æ¡ˆ**ï¼š`contexts/ApiKeyContext.tsx`
  - ä½¿ç”¨ React Context API ç®¡ç† API Key
  - API Key å„²å­˜åœ¨ `localStorage` ä¸­ï¼ˆkey: `gemini_api_key`ï¼‰
  - æä¾› `useApiKey()` Hook ä¾›å…ƒä»¶ä½¿ç”¨

#### API Key å‚³éæµç¨‹ï¼š
1. **App.tsx**ï¼šå¾ Context ç²å– API Key
   ```typescript
   const { apiKey } = useApiKey();
   ```

2. **Hooks å±¤**ï¼šæ¥æ”¶ API Key ä¸¦å‚³éçµ¦æœå‹™
   - `useProductAnalysis(apiKey)` âœ…
   - `useContentStrategy(apiKey)` âœ…
   - `usePosterProposals(apiKey)` âœ…

3. **æœå‹™å±¤**ï¼šæ¥æ”¶ API Key ä½œç‚ºåƒæ•¸
   - `analyzeMarket(productInfo, apiKey)` âœ…
   - `generateContentStrategy(analysisResult, apiKey)` âœ…
   - `generatePosterProposals(productInfo, analysisResult, contentStrategy, apiKey)` âœ…

#### æª¢æŸ¥çµæœï¼š
- âœ… **æ²’æœ‰ç¡¬ç·¨ç¢¼çš„ API Key**
- âœ… **æ²’æœ‰ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ç›´æ¥å­˜å–**
- âœ… **æ‰€æœ‰æœå‹™éƒ½é€šéåƒæ•¸æ¥æ”¶ API Key**
- âœ… **ç¬¦åˆã€Œç´”å‰ç«¯ + ç”¨æˆ¶æä¾› API Keyã€çš„æ¶æ§‹è¦æ±‚**

---

## 2. API ç‰ˆæœ¬èˆ‡å¥—ä»¶è³‡è¨Š

### ä½¿ç”¨çš„å¥—ä»¶
- **å¥—ä»¶åç¨±**ï¼š`@google/genai`
- **ç•¶å‰ç‰ˆæœ¬**ï¼š`^1.19.0`ï¼ˆpackage.jsonï¼‰
- **å¥—ä»¶èªªæ˜**ï¼šGoogle Gen AI JavaScript SDKï¼Œæ”¯æ´ Gemini Developer API å’Œ Vertex AI

### ä½¿ç”¨çš„æ¨¡å‹
ç›®å‰å°ˆæ¡ˆä¸­ä½¿ç”¨çš„æ¨¡å‹ï¼š
- **æ–‡å­—ç”Ÿæˆ**ï¼š`gemini-2.5-flash`
  - ç”¨æ–¼å¸‚å ´åˆ†æï¼ˆ`analyzeMarket`ï¼‰
  - ç”¨æ–¼å…§å®¹ç­–ç•¥ç”Ÿæˆï¼ˆ`generateContentStrategy`ï¼‰
  - ç”¨æ–¼æµ·å ±ææ¡ˆç”Ÿæˆï¼ˆ`generatePosterProposals`ï¼‰

---

## 3. åœ–ç‰‡ç”Ÿæˆèƒ½åŠ›ç¢ºèª âœ…

### Google Gemini API æ”¯æ´åœ–ç‰‡ç”Ÿæˆï¼

æ ¹æ“šå®˜æ–¹æ–‡æª”ï¼ŒGoogle Gemini API **ç¢ºå¯¦æ”¯æ´åœ–ç‰‡ç”ŸæˆåŠŸèƒ½**ï¼Œæœ‰ä»¥ä¸‹å¹¾ç¨®æ–¹å¼ï¼š

#### æ–¹å¼ 1ï¼šä½¿ç”¨ Imagen æ¨¡å‹ï¼ˆæ¨è–¦ç”¨æ–¼é«˜å“è³ªåœ–ç‰‡ï¼‰
- `imagen-4.0-fast-generate-001` - å¿«é€Ÿç”Ÿæˆ
- `imagen-4.0-generate-001` - æ¨™æº–å“è³ª
- `imagen-4.0-ultra-generate-001` - è¶…é«˜å“è³ª

**ç‰¹é»**ï¼š
- æ”¯æ´è‹±æ–‡æç¤ºè©ï¼ˆç›®å‰ï¼‰
- æ”¯æ´å¤šç¨®å°ºå¯¸å’Œé•·å¯¬æ¯”
- æ‰€æœ‰ç”Ÿæˆçš„åœ–ç‰‡åŒ…å« SynthID æµ®æ°´å°
- æ”¯æ´ç”Ÿæˆ 1-4 å¼µåœ–ç‰‡

#### æ–¹å¼ 2ï¼šä½¿ç”¨ Gemini 2.5 Flash æˆ– Gemini 3 Pro Previewï¼ˆNano Bananaï¼‰
- `gemini-2.5-flash` - å¿«é€Ÿç”Ÿæˆ
- `gemini-3-pro-preview` - é«˜å“è³ªç”Ÿæˆ

**ç‰¹é»**ï¼š
- æ”¯æ´å°è©±å¼åœ–ç‰‡ç”Ÿæˆå’Œç·¨è¼¯
- æ”¯æ´æ–‡å­—åˆ°åœ–ç‰‡ã€åœ–ç‰‡ç·¨è¼¯ã€å¤šåœ–ç‰‡çµ„åˆ
- æ”¯æ´è¿­ä»£å¼ç²¾ç…‰ï¼ˆå¯ä»¥å¤šæ¬¡èª¿æ•´ï¼‰
- é«˜å“è³ªæ–‡å­—æ¸²æŸ“ï¼ˆé©åˆæµ·å ±ã€æ¨™èªŒã€åœ–è¡¨ï¼‰
- æ”¯æ´ç¹é«”ä¸­æ–‡æç¤ºè©

### åœ–ç‰‡ç”Ÿæˆ API åŠŸèƒ½
æ ¹æ“šæ–‡æª”ï¼Œæ”¯æ´ä»¥ä¸‹åŠŸèƒ½ï¼š
1. **æ–‡å­—åˆ°åœ–ç‰‡**ï¼šå¾æ–‡å­—æè¿°ç”Ÿæˆåœ–ç‰‡
2. **åœ–ç‰‡ç·¨è¼¯**ï¼šä½¿ç”¨æ–‡å­—æç¤ºè©ç·¨è¼¯ç¾æœ‰åœ–ç‰‡
3. **å¤šåœ–ç‰‡çµ„åˆ**ï¼šä½¿ç”¨å¤šå¼µè¼¸å…¥åœ–ç‰‡çµ„åˆæ–°å ´æ™¯
4. **é¢¨æ ¼è½‰æ›**ï¼šè½‰æ›åœ–ç‰‡é¢¨æ ¼
5. **æ‰¹æ¬¡ç”Ÿæˆ**ï¼šä½¿ç”¨ Batch API å¤§é‡ç”Ÿæˆåœ–ç‰‡

### åœ–ç‰‡å°ºå¯¸å’Œé•·å¯¬æ¯”æ”¯æ´
- **é•·å¯¬æ¯”**ï¼š`1:1`, `3:4`, `4:3`, `9:16`, `16:9`
- **å°ºå¯¸**ï¼š1K, 2Kï¼ˆåƒ…é™ Standard å’Œ Ultra æ¨¡å‹ï¼‰

---

## 4. ç•¶å‰åœ–ç‰‡ç”Ÿæˆæœå‹™ç‹€æ…‹

### ç•¶å‰å¯¦ä½œ
- **æª”æ¡ˆ**ï¼š`services/imageGenerationService.ts`
- **ç‹€æ…‹**ï¼šç›®å‰ç‚ºæ¨¡æ“¬å¯¦ç¾ï¼Œè¿”å›ä½”ä½ç¬¦åœ–ç‰‡
- **API Key å‚³é**ï¼šâœ… å·²æ­£ç¢ºæ¥æ”¶ `apiKey` åƒæ•¸

### éœ€è¦å¯¦ä½œçš„åŠŸèƒ½
è¦å•Ÿç”¨çœŸå¯¦çš„åœ–ç‰‡ç”Ÿæˆï¼Œéœ€è¦ï¼š
1. ä½¿ç”¨ `@google/genai` SDK çš„åœ–ç‰‡ç”Ÿæˆ API
2. é¸æ“‡åˆé©çš„æ¨¡å‹ï¼ˆå»ºè­°ä½¿ç”¨ `gemini-2.5-flash` æˆ– `imagen-4.0-fast-generate-001`ï¼‰
3. è™•ç†åœ–ç‰‡å°ºå¯¸è½‰æ›ï¼ˆå°‡ `PosterSize` è½‰æ›ç‚º API æ”¯æ´çš„é•·å¯¬æ¯”ï¼‰
4. è™•ç†åƒè€ƒåœ–ç‰‡ï¼ˆå¦‚æœæä¾›ï¼‰

---

## 5. å»ºè­°çš„å¯¦ä½œæ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Gemini 2.5 Flashï¼ˆæ¨è–¦ï¼‰
**å„ªé»**ï¼š
- âœ… å·²åœ¨ä½¿ç”¨ç›¸åŒæ¨¡å‹ï¼Œç„¡éœ€é¡å¤–è¨­å®š
- âœ… æ”¯æ´ç¹é«”ä¸­æ–‡æç¤ºè©
- âœ… æ”¯æ´åœ–ç‰‡ç·¨è¼¯å’Œè¿­ä»£ç²¾ç…‰
- âœ… é«˜å“è³ªæ–‡å­—æ¸²æŸ“ï¼ˆé©åˆæµ·å ±ï¼‰

**å¯¦ä½œæ–¹å¼**ï¼š
```typescript
const result = await ai.models.generateContent({
  model: "gemini-2.5-flash",
  contents: prompt,
  config: {
    responseModalities: ["IMAGE"], // æŒ‡å®šç”Ÿæˆåœ–ç‰‡
  },
});
```

### æ–¹æ¡ˆ Bï¼šä½¿ç”¨ Imagen 4.0
**å„ªé»**ï¼š
- âœ… å°ˆç‚ºåœ–ç‰‡ç”Ÿæˆè¨­è¨ˆ
- âœ… æ›´é«˜å“è³ªè¼¸å‡º
- âœ… æ”¯æ´å¤šç¨®å°ºå¯¸é¸é …

**ç¼ºé»**ï¼š
- âŒ ç›®å‰åƒ…æ”¯æ´è‹±æ–‡æç¤ºè©
- âŒ éœ€è¦å°‡ä¸­æ–‡æç¤ºè©ç¿»è­¯æˆè‹±æ–‡

---

## 6. ç¸½çµ

### âœ… ç¢ºèªäº‹é …
1. **API Key ç®¡ç†**ï¼šâœ… æ­£ç¢ºä½¿ç”¨ Contextï¼Œæ²’æœ‰è¢«è®Šæ›´
2. **API ç‰ˆæœ¬**ï¼šâœ… ä½¿ç”¨ `@google/genai` v1.19.0
3. **åœ–ç‰‡ç”Ÿæˆèƒ½åŠ›**ï¼šâœ… Google Gemini API æ”¯æ´åœ–ç‰‡ç”Ÿæˆ
4. **ç•¶å‰æ¨¡å‹**ï¼šâœ… ä½¿ç”¨ `gemini-2.5-flash`ï¼Œæ”¯æ´åœ–ç‰‡ç”Ÿæˆ

### ğŸ“ ä¸‹ä¸€æ­¥è¡Œå‹•
1. å¯¦ä½œçœŸå¯¦çš„åœ–ç‰‡ç”ŸæˆåŠŸèƒ½
2. é¸æ“‡åˆé©çš„æ¨¡å‹ï¼ˆå»ºè­°ä½¿ç”¨ `gemini-2.5-flash`ï¼‰
3. è™•ç†åœ–ç‰‡å°ºå¯¸å’Œé•·å¯¬æ¯”è½‰æ›
4. æ•´åˆåƒè€ƒåœ–ç‰‡åŠŸèƒ½ï¼ˆå¦‚æœæä¾›ï¼‰

---

## åƒè€ƒè³‡æ–™
- [Google Gen AI SDK æ–‡æª”](https://github.com/googleapis/js-genai)
- [Gemini API åœ–ç‰‡ç”Ÿæˆæ–‡æª”](https://ai.google.dev/gemini-api/docs/image-generation)
- [Imagen åœ–ç‰‡ç”Ÿæˆæ–‡æª”](https://ai.google.dev/gemini-api/docs/imagen)

